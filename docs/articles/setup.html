<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Setup • rgee</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Setup">
<meta property="og:description" content="">
<meta property="og:image" content="http://csaybar.github.io/rgee/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rgee</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.9.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/setup.html">Setup</a>
    </li>
    <li>
      <a href="../articles/considerations.html">Consideration</a>
    </li>
    <li>
      <a href="../articles/rgee_animation.html">Animation - 3D Choropleth Map</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/faq.html">
    <span class="fa fa-question-circle-o"></span>
     
    faq
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/csaybar/rgee/">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Setup</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/csaybar/rgee/blob/master/vignettes/setup.Rmd"><code>vignettes/setup.Rmd</code></a></small>
      <div class="hidden name"><code>setup.Rmd</code></div>

    </div>

    
    
<p><code>rgee</code> has two types of dependencies. The <span style="color:#b52b09"><strong>first group</strong></span> that must be satisfied before the <code>rgee</code> installation, and the <span style="color:#f0df26"><strong>other one</strong></span> that is just necessary to unlock the <code>rgee</code> import &amp; export functions. For instance, you will need firstly activate your Cloud Storage JSON API to use <a href="https://csaybar.github.io/rgee/reference/ee_download_gcs.html">ee_download_gcs</a>. All the external dependencies of <code>rgee</code> are shown bellow:</p>
<div id="external-required" class="section level3">
<h3 class="hasAnchor">
<a href="#external-required" class="anchor"></a>External Required</h3>
<ul>
<li><span style="color:#b52b09">Google acount with Earth Engine activated</span></li>
<li><span style="color:#b52b09">Python &gt; v3.5</span></li>
<li><span style="color:#f0df26">Google Cloud Storage (GCS)</span></li>
<li><span style="color:#f0df26">Google Chrome version &gt; v76 </span></li>
</ul>
</div>
<div id="third-party-python-package-required" class="section level3">
<h3 class="hasAnchor">
<a href="#third-party-python-package-required" class="anchor"></a>Third-Party Python Package Required</h3>
<ul>
<li><span style="color:#b52b09"> EarthEngine Python API</span></li>
<li><span style="color:#f0df26"> selenium </span></li>
<li><span style="color:#f0df26">beautifulsoup4</span></li>
<li><span style="color:#f0df26">requests_toolbelt</span></li>
</ul>
<p>The <code><a href="../reference/ee_install-tools.html">ee_install_rgee_python_packages()</a></code> function is provided as a convenient way to install all the necessary Python packages, but is not required. If you have an existing installation of the <a href="https://pypi.org/project/earthengine-api/">Earth Engine Python API</a> or just prefer your own custom installation that’s fine too.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(rgee)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="co"># Recommended way to install Python packages</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="co">## 1. Create a virtualenv</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="kw">virtualenv_create</span>(<span class="st">"rgee"</span>, <span class="dt">python =</span> <span class="st">"python3.7"</span>)</a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="kw">use_virtualenv</span>(<span class="st">"rgee"</span>)</a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="kw"><a href="../reference/ee_install-tools.html">ee_install_rgee_python_packages</a></span>()</a></code></pre></div>
</div>
<div id="import-and-export-spatial-data-in-gee" class="section level3">
<h3 class="hasAnchor">
<a href="#import-and-export-spatial-data-in-gee" class="anchor"></a>Import and Export Spatial Data in GEE</h3>
<p>The batch import/export involves a struggle for most GEE users. In <code>rgee</code> we are aware of that and created functions to help users to download and upload spatial data. If you are trying to <strong>download</strong> data from GEE, we highly recommend to use either <a href="https://csaybar.github.io/rgee/reference/ee_download_drive.html">ee_download_drive</a> or <a href="https://csaybar.github.io/rgee/reference/ee_download_gcs.html">ee_download_gcs</a>. These functions depends on the <a href="https://googledrive.tidyverse.org/">googledrive</a> and <a href="http://code.markedmondson.me/googleCloudStorageR/">googleCloudStorageR</a> R package respectively, so you will need installed it before.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># please try as follow</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">'googledrive'</span>)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">'googleCloudStorageR'</span>)</a></code></pre></div>
<p>Google Drive (<code>ee_download_gcs</code>) is more friendly with novice Earth Engine users because it just would need an authentication process (that is 100% automatic!). If you are trying to move large amounts of data, use Google Cloud Storage (<code>ee_download_gcs</code>) instead. However, you will need to have your own Google Project with a credit card added to used it, charges will apply. See the <a href="http://code.markedmondson.me/googleCloudStorageR/articles/googleCloudStorageR.html">GCS_AUTH_FILE</a> tutorial to create your own service account key. If you want to understand why this is necessary, please take a look to the <a href="http://code.markedmondson.me/googleCloudStorageR/articles/googleCloudStorageR.html">Mark Edmondson</a> tutorial.</p>
<p>Batch <strong>upload</strong> is a harder process, in <code>rgee</code> we try to make simple through the <a href="https://csaybar.github.io/rgee/reference/ee_upload.html">ee_upload</a> function. Always that you want to upload files in a batch way, will be necessary get authorization to read &amp; write into a Google Cloud Storage (GCS) bucket. Fortunately, Earth Engine provides a <strong>provisional</strong> for free space into GCS through the URI gs://earthengine-uploads/ to all users. Inspired in the <a href="https://pypi.org/project/geeup/0.3.3/">geeup</a> Python package we provide a connection to gs://earthengine-uploads/ when users do not defined the bucket argument in the <code>ee_upload</code> function. This process will use <strong>Selenium</strong> and require <strong>ChromeDriver</strong>. To install ChromeDriver in your system run as follow:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># Find the Google Chrome version of this system</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co"># in chrome://settings/help</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co"># In my case my Google Chrome version is 77.0.3865.75, so:</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">rgee<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/rgee/man/ee_install-tools.html">ee_install_drivers</a></span>(<span class="dt">GoogleChromeVersion =</span> <span class="dv">77</span>)</a></code></pre></div>
</div>
<div id="credentials" class="section level3">
<h3 class="hasAnchor">
<a href="#credentials" class="anchor"></a>Credentials</h3>
<p>The <code>rgee</code> manage three different Google API’s:</p>
<ul>
<li>Google Earth Engine</li>
<li>Google Drive</li>
<li>Google Cloud Storage</li>
</ul>
<p>To authenticate the three APIs, you just need to run as follow:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(rgee)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="co">#ee_reattach() # reattach ee as a reserve word</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="kw"><a href="../reference/ee_Initialize.html">ee_Initialize</a></span>(<span class="dt">drive =</span> <span class="ot">TRUE</span>,<span class="dt">gcs =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>If the Google account is verified and the permission is granted, you will be directed to an authentification token. Copy this token and paste it in the emerging GUI. This process will be repeated for each API, except for <a href="http://code.markedmondson.me/googleCloudStorageR/articles/googleCloudStorageR.html">Google Cloud Storage</a>. If the function runs successfully, all credentials are stored in:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/path.expand.html">path.expand</a></span>(<span class="st">"~/.config/earthengine/"</span>)</a></code></pre></div>
<p>For the next sessions, there will be no need for any further authentification.</p>
</div>
<div id="checking" class="section level3">
<h3 class="hasAnchor">
<a href="#checking" class="anchor"></a>Checking</h3>
<p>The <code><a href="../reference/ee_check-tools.html">ee_check()</a></code> function will help you for checking the sanity of your <code>rgee</code> installation. Additionally, you can separately check the rgee dependencies with the following functions:</p>
<ul>
<li>
<code><a href="../reference/ee_check-tools.html">ee_check_drivers()</a></code> - Chromedriver</li>
<li>
<code><a href="../reference/ee_check-tools.html">ee_check_python()</a></code> - Python version</li>
<li>
<code><a href="../reference/ee_check-tools.html">ee_check_credentials()</a></code> - Google Drive and GCS credentials</li>
<li>
<code><a href="../reference/ee_check-tools.html">ee_check_rgee_python_packages()</a></code> - R/Python packages</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(rgee)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="co">#&gt; Warning in fun(libname, pkgname): rgeos: versions of GEOS runtime 3.7.1-CAPI-1.11.1</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">#&gt; and GEOS at installation 3.5.1-CAPI-1.9.1differ</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="kw"><a href="../reference/ee_check-tools.html">ee_check</a></span>()</a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">#&gt; ◉  Python version found: /usr/bin/python3 v3.7</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">#&gt; ◉  Python Standard Libraries used in rgee: </span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">#&gt; ✔ [Ok] webbrowser</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co">#&gt; ✔ [Ok] requests v 2.21.0</span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"><span class="co">#&gt; ✔ [Ok] zipfile</span></a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="co">#&gt; ✔ [Ok] tarfile</span></a>
<a class="sourceLine" id="cb6-13" data-line-number="13"><span class="co">#&gt; ✔ [Ok] subprocess</span></a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="co">#&gt; ✔ [Ok] ast</span></a>
<a class="sourceLine" id="cb6-15" data-line-number="15"><span class="co">#&gt; ✔ [Ok] sys</span></a>
<a class="sourceLine" id="cb6-16" data-line-number="16"><span class="co">#&gt; ✔ [Ok] os</span></a>
<a class="sourceLine" id="cb6-17" data-line-number="17"><span class="co">#&gt; ✔ [Ok] platform v 1.0.8</span></a>
<a class="sourceLine" id="cb6-18" data-line-number="18"><span class="co">#&gt; ✔ [Ok] json v 2.0.9</span></a>
<a class="sourceLine" id="cb6-19" data-line-number="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-20" data-line-number="20"><span class="co">#&gt; ◉  Python Third-Party Libraries used in rgee: </span></a>
<a class="sourceLine" id="cb6-21" data-line-number="21"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-22" data-line-number="22"><span class="co">#&gt; ✔ [Ok] Python Earth Engine API version 0.1.210</span></a>
<a class="sourceLine" id="cb6-23" data-line-number="23"><span class="co">#&gt; ✔ [Ok] selenium v 3.141.0</span></a>
<a class="sourceLine" id="cb6-24" data-line-number="24"><span class="co">#&gt; ✔ [Ok] bs4 v 4.7.1</span></a>
<a class="sourceLine" id="cb6-25" data-line-number="25"><span class="co">#&gt; ✔ [Ok] requests_toolbelt v 0.9.1</span></a>
<a class="sourceLine" id="cb6-26" data-line-number="26"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-27" data-line-number="27"><span class="co">#&gt; ◉  Selenium drivers: </span></a>
<a class="sourceLine" id="cb6-28" data-line-number="28"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-29" data-line-number="29"><span class="co">#&gt; ✔ [Ok] Chromedriver </span></a>
<a class="sourceLine" id="cb6-30" data-line-number="30"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-31" data-line-number="31"><span class="co">#&gt; ◉  Credentials neccesaries for rgee: </span></a>
<a class="sourceLine" id="cb6-32" data-line-number="32"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb6-33" data-line-number="33"><span class="co">#&gt; ✔ [Ok] Earth Engine Credentials found.</span></a>
<a class="sourceLine" id="cb6-34" data-line-number="34"><span class="co">#&gt; ✔ [Ok] Google Drive credentials found.</span></a>
<a class="sourceLine" id="cb6-35" data-line-number="35"><span class="co">#&gt; ✔ [Ok] Google Cloud Storage credentials found.</span></a></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Cesar Aybar.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
