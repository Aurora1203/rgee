<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create a stars object based on an EE thumbnail image — ee_as_thumbnail • rgee</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Create a stars object based on an EE thumbnail image — ee_as_thumbnail" />
<meta property="og:description" content="Download EE thumbnail images and read them as star objects.
This function is a wrapper around ee$Image()$getThumbURL()." />
<meta property="og:image" content="http://csaybar.github.io/rgee/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rgee</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/setup.html">Setup</a>
    </li>
    <li>
      <a href="../articles/considerations.html">Consideration</a>
    </li>
    <li>
      <a href="http://csaybar.github.io/rgee-examples/">rgee examples</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/faq.html">
    <span class="fa fa-question-circle-o"></span>
     
    faq
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/csaybar/rgee/">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a stars object based on an EE thumbnail image</h1>
    <small class="dont-index">Source: <a href='https://github.com/csaybar/rgee/blob/master/R/ee_as_thumbnail.R'><code>R/ee_as_thumbnail.R</code></a></small>
    <div class="hidden name"><code>ee_as_thumbnail.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Download EE thumbnail images and read them as star objects.
This function is a wrapper around <code>ee$Image()$getThumbURL()</code>.</p>
    </div>

    <pre class="usage"><span class='fu'>ee_as_thumbnail</span>(<span class='no'>x</span>, <span class='no'>region</span>, <span class='no'>dimensions</span>, <span class='kw'>vizparams</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>geodesic</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>evenOdd</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>quiet</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>EE Image object</p></td>
    </tr>
    <tr>
      <th>region</th>
      <td><p>EE Geometry Rectangle (ee$Geometry$Rectangle). The
CRS needs to be the same as the x argument, otherwise, it will be
forced. If not specified, image bounds will be taken.</p></td>
    </tr>
    <tr>
      <th>dimensions</th>
      <td><p>A number or pair of numbers in format XY.</p></td>
    </tr>
    <tr>
      <th>vizparams</th>
      <td><p>A list that contains the visualization parameters.</p></td>
    </tr>
    <tr>
      <th>geodesic</th>
      <td><p>Whether line segments of region should be interpreted as
spherical geodesics. If FALSE, indicates that line segments should be
interpreted as planar lines in the specified CRS. If not specified in
the geometry (region argument), defaults to TRUE if the CRS is geographic
(including the default EPSG:4326), or to FALSE if the CRS is projected.</p></td>
    </tr>
    <tr>
      <th>evenOdd</th>
      <td><p>If TRUE, polygon interiors will be determined by
the even/odd rule, where a point is inside if it crosses an odd
number of edges to reach a point at infinity. Otherwise polygons
use the left-inside rule, where interiors are on the left side
of the shell's edges when walking the vertices in the given order.
If unspecified in the geometry (region argument) defaults to TRUE.</p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p>logical; suppress info messages.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An <a href='https://rdrr.io/pkg/sf/man/sf.html'>sf</a> object</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The argument dimensions will define the stars object parameters
"from" &amp; "to". It must be a single numeric value or a two-element vector.
If not defined, 256 is taken by default as the dimension of x
(from 1 to 256), and y scales down proportionally. Large images
might cause plodding connections. See
<a href='https://developers.google.com/earth-engine/client_server'>Client vs
Server</a> for more details.</p>
<p>The vizparams set up the number of bands up. In <code>ee_as_thumbnail</code> just is
possible export only one (G) or three-band (RGB) images. Additional
parameters can be passed on to control color, intensity, the maximum and
minimum values, etc. The below table provides all the parameters that
admit <code>ee_as_thumbnail</code>.</p>
<table class='table'>
<tr><td><strong>Parameter</strong></td><td><strong>Description</strong></td><td><strong>Type</strong></td></tr>
<tr><td><strong>bands</strong></td><td>Comma-delimited list of
three band names to be mapped to RGB</td><td>list</td></tr>
<tr><td><strong>min</strong></td><td>Value(s) to map to 0</td><td>number or list of three numbers, one for each band</td></tr>
<tr><td><strong>max</strong></td><td>Value(s) to map to 1</td><td>number or list of three numbers, one for each band</td></tr>
<tr><td><strong>gain</strong></td><td>Value(s) by which to multiply each pixel value</td><td>number or list of three numbers, one for each band</td></tr>
<tr><td><strong>bias</strong></td><td>Value(s) to add to each Digital Number (DN)
value</td><td>number or list of three numbers, one for each band</td></tr>
<tr><td><strong>gamma</strong></td><td>Gamma correction factor(s)</td><td>number or list of three numbers, one for each band</td></tr>
<tr><td><strong>palette</strong></td><td>List of CSS-style color strings
(single-band images only)</td><td>comma-separated list of hex strings</td></tr>
<tr><td><strong>opacity</strong></td><td>The opacity of the layer
(0.0 is fully transparent and 1.0 is fully opaque)</td><td>number</td></tr>
</table>


<p>Use <code>ee$Image()$geometry()$projection()$crs()$getInfo()</code> for
getting the CRS of an Earth Engine Image.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>raster</span>)
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>stars</span>)
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>rgee</span>)
<span class='fu'><a href='ee_reattach.html'>ee_reattach</a></span>() <span class='co'># reattach ee as a reserved word</span>
<span class='fu'><a href='ee_Initialize.html'>ee_Initialize</a></span>()
<span class='no'>nc</span> <span class='kw'>&lt;-</span> <span class='fu'>st_read</span>(<span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"shp/arequipa.shp"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"rgee"</span>))
<span class='no'>dem_palette</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(
  <span class='st'>"#008435"</span>, <span class='st'>"#1CAC17"</span>, <span class='st'>"#48D00C"</span>, <span class='st'>"#B3E34B"</span>, <span class='st'>"#F4E467"</span>,
  <span class='st'>"#F4C84E"</span>, <span class='st'>"#D59F3C"</span>, <span class='st'>"#A36D2D"</span>, <span class='st'>"#C6A889"</span>, <span class='st'>"#FFFFFF"</span>
)

<span class='co'># DEM data -SRTM v4.0</span>
<span class='no'>image</span> <span class='kw'>&lt;-</span> <span class='no'>ee</span>$<span class='fu'>Image</span>(<span class='st'>"CGIAR/SRTM90_V4"</span>)
<span class='no'>region</span> <span class='kw'>&lt;-</span> <span class='no'>nc</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>st_bbox</span>() <span class='kw'>%&gt;%</span>
  <span class='fu'>st_as_sfc</span>() <span class='kw'>%&gt;%</span>
  <span class='fu'>st_set_crs</span>(<span class='fl'>4326</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='sf_as_ee.html'>sf_as_ee</a></span>() <span class='kw'>%&gt;%</span>
  <span class='no'>ee</span>$<span class='no'>FeatureCollection</span>$<span class='fu'>geometry</span>()

<span class='co'>## world</span>
<span class='no'>world_dem</span> <span class='kw'>&lt;-</span> <span class='fu'>ee_as_thumbnail</span>(
  <span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>image</span>,
  <span class='kw'>dimensions</span> <span class='kw'>=</span> <span class='fl'>1024</span>,
  <span class='kw'>geodesic</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>evenOdd</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>vizparams</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>min</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>max</span> <span class='kw'>=</span> <span class='fl'>5000</span>)
)
<span class='no'>world_dem</span>[<span class='no'>world_dem</span> <span class='kw'>&lt;=</span> <span class='fl'>0</span>] <span class='kw'>&lt;-</span> <span class='fl'>NA</span>
<span class='no'>world_dem</span> <span class='kw'>&lt;-</span> <span class='no'>world_dem</span> * <span class='fl'>5000</span>
<span class='fu'><a href='https://rdrr.io/pkg/raster/man/plot.html'>plot</a></span>(
  <span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>world_dem</span>, <span class='kw'>col</span> <span class='kw'>=</span> <span class='no'>dem_palette</span>, <span class='kw'>breaks</span> <span class='kw'>=</span> <span class='st'>"equal"</span>,
  <span class='kw'>reset</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>"SRTM - World"</span>
)

<span class='co'>## Arequipa-Peru</span>
<span class='no'>arequipa_dem</span> <span class='kw'>&lt;-</span> <span class='fu'>ee_as_thumbnail</span>(
  <span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>image</span>,
  <span class='kw'>dimensions</span> <span class='kw'>=</span> <span class='fl'>512</span>,
  <span class='kw'>region</span> <span class='kw'>=</span> <span class='no'>region</span>,
  <span class='kw'>vizparams</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>min</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>max</span> <span class='kw'>=</span> <span class='fl'>5000</span>)
)
<span class='no'>arequipa_dem</span> <span class='kw'>&lt;-</span> <span class='no'>arequipa_dem</span> * <span class='fl'>5000</span>
<span class='fu'><a href='https://rdrr.io/pkg/raster/man/plot.html'>plot</a></span>(
  <span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>arequipa_dem</span>[<span class='no'>nc</span>], <span class='kw'>col</span> <span class='kw'>=</span> <span class='no'>dem_palette</span>, <span class='kw'>breaks</span> <span class='kw'>=</span> <span class='st'>"equal"</span>,
  <span class='kw'>reset</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>main</span> <span class='kw'>=</span> <span class='st'>"SRTM - Arequipa"</span>
)
<span class='fu'><a href='https://rdrr.io/r/base/warning.html'>suppressWarnings</a></span>(<span class='fu'><a href='https://rdrr.io/pkg/raster/man/plot.html'>plot</a></span>(
  <span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>nc</span>, <span class='kw'>col</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>border</span> <span class='kw'>=</span> <span class='st'>"black"</span>, <span class='kw'>add</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>lwd</span> <span class='kw'>=</span> <span class='fl'>1.5</span>
))

<span class='co'>## LANDSAT 8</span>
<span class='no'>img</span> <span class='kw'>&lt;-</span> <span class='no'>ee</span>$<span class='fu'>Image</span>(<span class='st'>"LANDSAT/LC08/C01/T1_SR/LC08_038029_20180810"</span>)$
  <span class='fu'><a href='https://rdrr.io/pkg/raster/man/select.html'>select</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"B4"</span>, <span class='st'>"B3"</span>, <span class='st'>"B2"</span>))
<span class='no'>Map</span>$<span class='fu'>centerObject</span>(<span class='no'>img</span>)
<span class='no'>Map</span>$<span class='fu'><a href='https://rdrr.io/pkg/raster/man/addLayer.html'>addLayer</a></span>(<span class='no'>img</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>min</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>max</span> <span class='kw'>=</span> <span class='fl'>5000</span>, <span class='kw'>gamma</span> <span class='kw'>=</span> <span class='fl'>1.5</span>))

<span class='co'>## Teton Wilderness</span>
<span class='no'>l8_img</span> <span class='kw'>&lt;-</span> <span class='fu'>ee_as_thumbnail</span>(
  <span class='kw'>x</span> <span class='kw'>=</span> <span class='no'>img</span>,
  <span class='kw'>dimensions</span> <span class='kw'>=</span> <span class='fl'>1024</span>,
  <span class='kw'>evenOdd</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>vizparams</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(
    <span class='kw'>min</span> <span class='kw'>=</span> <span class='fl'>0</span>,
    <span class='kw'>max</span> <span class='kw'>=</span> <span class='fl'>5000</span>,
    <span class='kw'>gamma</span> <span class='kw'>=</span> <span class='fl'>1.5</span>
  )
)
<span class='fu'><a href='https://rdrr.io/r/grDevices/dev.html'>dev.off</a></span>()
<span class='no'>l8_img</span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/pkg/stars/man/coerce-methods.html'>as</a></span>(<span class='st'>"Raster"</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>`names&lt;-`</span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"R"</span>, <span class='st'>"G"</span>, <span class='st'>"B"</span>)) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/pkg/raster/man/plotRGB.html'>plotRGB</a></span>(<span class='kw'>stretch</span> <span class='kw'>=</span> <span class='st'>"lin"</span>)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Cesar Aybar.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


