<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Convert an Earth Engine (EE) image into a stars object — ee_as_stars • rgee</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Convert an Earth Engine (EE) image into a stars object — ee_as_stars" />
<meta property="og:description" content="Convert an Earth Engine (EE) image into a stars object" />
<meta property="og:image" content="http://csaybar.github.io/rgee/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rgee</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/setup.html">Setup</a>
    </li>
    <li>
      <a href="../articles/considerations.html">Consideration</a>
    </li>
    <li>
      <a href="http://csaybar.github.io/rgee-examples/">rgee examples</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/faq.html">
    <span class="fa fa-question-circle-o"></span>
     
    faq
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/csaybar/rgee/">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Convert an Earth Engine (EE) image into a stars object</h1>
    <small class="dont-index">Source: <a href='https://github.com/csaybar/rgee/blob/master/R/ee_stars.R'><code>R/ee_stars.R</code></a></small>
    <div class="hidden name"><code>ee_as_stars.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Convert an Earth Engine (EE) image into a stars object</p>
    </div>

    <pre class="usage"><span class='fu'>ee_as_stars</span>(<span class='no'>image</span>, <span class='no'>region</span>, <span class='kw'>scale</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>geodesic</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>evenOdd</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>maxPixels</span> <span class='kw'>=</span> <span class='fl'>1e+09</span>, <span class='kw'>via</span> <span class='kw'>=</span> <span class='st'>"getInfo"</span>,
  <span class='kw'>container</span> <span class='kw'>=</span> <span class='st'>"rgee_backup"</span>, <span class='kw'>quiet</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>image</th>
      <td><p>ee$Image to be converted into a sf object</p></td>
    </tr>
    <tr>
      <th>region</th>
      <td><p>EE Geometry Rectangle (ee$Geometry$Rectangle). The
CRS needs to be the same that the x argument otherwise it will be
forced. If not specified, image bounds will be taken.</p></td>
    </tr>
    <tr>
      <th>scale</th>
      <td><p>The resolution in meters per pixel. If scale
is set to NULL, the native resolution of the first band will be
taken.</p></td>
    </tr>
    <tr>
      <th>geodesic</th>
      <td><p>Whether line segments of region should be interpreted as
spherical geodesics. If FALSE, indicates that line segments should be
interpreted as planar lines in the specified CRS. If not specified in
the geometry (region argument) defaults to TRUE if the CRS is geographic
(including the default EPSG:4326), or to FALSE if the CRS is projected.</p></td>
    </tr>
    <tr>
      <th>evenOdd</th>
      <td><p>If TRUE, polygon interiors will be determined by
the even/odd rule, where a point is inside if it crosses an odd
number of edges to reach a point at infinity. Otherwise polygons
use the left-inside rule, where interiors are on the left side
of the shell's edges when walking the vertices in the given order.
If unspecified in the geometry (region argument) defaults to TRUE.</p></td>
    </tr>
    <tr>
      <th>maxPixels</th>
      <td><p>The maximum allowed number of pixels in the
exported image. The task will fail if the exported region covers
more pixels in the specified projection. Defaults to 100,000,000.</p></td>
    </tr>
    <tr>
      <th>via</th>
      <td><p>Method to download the image. Three methods
are implemented 'getInfo', 'drive' and 'gcs'. See details.</p></td>
    </tr>
    <tr>
      <th>container</th>
      <td><p>Relevant when the "via" argument is
defined as 'drive' or 'gcs'. It is the name of a unique
folder ('drive') or bucket ('gcs') to export into.</p></td>
    </tr>
    <tr>
      <th>quiet</th>
      <td><p>logical. Suppress info message</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A stars object, when via argument was defined as 'getInfo'. For
other cases will return a stars-proxy object.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The process to pass a ee$Image to your local env could be carried
out by three different strategies. The first one ('getInfo') use the getInfo
method, which fetch and return information about Earth Engine
objects, the advantage of use this is a direct and fast download.
However, there is a limit of 262144 pixels (512x512) that can
be transferred by request which makes it unsatisfactory for large images.
The second ('drive') and third ('gcs') method are suitable for large images
since it use Google Drive and Google Cloud Storage as a intermediate
container.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>raster</span>)
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>stars</span>)
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>rgee</span>)

<span class='co'># Initialize a specific Earth Engine account and load</span>
<span class='co'># either Google Drive or Google Cloud Storage credentials</span>
<span class='fu'><a href='ee_reattach.html'>ee_reattach</a></span>()
<span class='fu'><a href='ee_Initialize.html'>ee_Initialize</a></span>(
  <span class='kw'>email</span> <span class='kw'>=</span> <span class='st'>"data.colec.fbf@gmail.com"</span>,
  <span class='kw'>drive</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>gcs</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)
<span class='fu'><a href='ee_user_info.html'>ee_user_info</a></span>()

<span class='co'># Define an image.</span>
<span class='no'>img</span> <span class='kw'>&lt;-</span> <span class='no'>ee</span>$<span class='fu'>Image</span>(<span class='st'>"LANDSAT/LC08/C01/T1_SR/LC08_038029_20180810"</span>)$
  <span class='fu'><a href='https://rdrr.io/pkg/raster/man/select.html'>select</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"B4"</span>, <span class='st'>"B3"</span>, <span class='st'>"B2"</span>))$
  <span class='fu'>divide</span>(<span class='fl'>10000</span>)

<span class='co'># OPTIONAL display it using Map</span>
<span class='no'>Map</span>$<span class='fu'>centerObject</span>(<span class='kw'>eeObject</span> <span class='kw'>=</span> <span class='no'>img</span>)
<span class='no'>Map</span>$<span class='fu'><a href='https://rdrr.io/pkg/raster/man/addLayer.html'>addLayer</a></span>(<span class='kw'>eeObject</span> <span class='kw'>=</span> <span class='no'>img</span>, <span class='kw'>visParams</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>max</span> <span class='kw'>=</span> <span class='fl'>0.4</span>,<span class='kw'>gamma</span><span class='kw'>=</span><span class='fl'>0.1</span>))

<span class='co'># Define an area of interest.</span>
<span class='no'>geometry</span> <span class='kw'>&lt;-</span> <span class='no'>ee</span>$<span class='no'>Geometry</span>$<span class='fu'>Rectangle</span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(-<span class='fl'>110.8</span>, <span class='fl'>44.6</span>, -<span class='fl'>110.6</span>, <span class='fl'>44.7</span>))

<span class='co'>## getInfo - Method 01</span>
<span class='no'>img_stars_01</span> <span class='kw'>&lt;-</span> <span class='fu'>ee_as_stars</span>(
  <span class='kw'>image</span> <span class='kw'>=</span> <span class='no'>img</span>,
  <span class='kw'>region</span> <span class='kw'>=</span> <span class='no'>geometry</span>,
  <span class='kw'>geodesic</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>via</span> <span class='kw'>=</span> <span class='st'>"getInfo"</span>
)

<span class='co'>## drive - Method 02</span>
<span class='no'>img_stars_02</span> <span class='kw'>&lt;-</span> <span class='fu'>ee_as_stars</span>(
  <span class='kw'>image</span> <span class='kw'>=</span> <span class='no'>img</span>,
  <span class='kw'>region</span> <span class='kw'>=</span> <span class='no'>geometry</span>,
  <span class='kw'>geodesic</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>via</span> <span class='kw'>=</span> <span class='st'>"drive"</span>
)

<span class='co'>## gcs - Method 03</span>
<span class='no'>img_stars_03</span> <span class='kw'>&lt;-</span> <span class='fu'>ee_as_stars</span>(
  <span class='kw'>image</span> <span class='kw'>=</span> <span class='no'>img</span>,
  <span class='kw'>region</span> <span class='kw'>=</span> <span class='no'>geometry</span>,
  <span class='kw'>geodesic</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>container</span> <span class='kw'>=</span> <span class='st'>"rgee_dev"</span>,
  <span class='kw'>via</span> <span class='kw'>=</span> <span class='st'>"gcs"</span>
)

<span class='co'># OPTIONAL: Delete containers</span>
<span class='fu'><a href='ee_clean_container.html'>ee_clean_container</a></span>(
  <span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"rgee_backup"</span>,
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"drive"</span>
)
<span class='fu'><a href='ee_clean_container.html'>ee_clean_container</a></span>(
  <span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"rgee_dev"</span>,
  <span class='kw'>type</span> <span class='kw'>=</span> <span class='st'>"gcs"</span>
)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Cesar Aybar.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


